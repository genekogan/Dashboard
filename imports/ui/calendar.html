
<!-- calendar -->
<template name="calendar">
  
  <div id="calendar_add">
  
    <form class="new-event">New event:
  	  <input type="text" id="event-name" name="text" placeholder="event name">
  	  <input type="text" id="event-date" name="text" placeholder="event date">
  	  <input type="text" id="event-link" name="text" placeholder="event link">
    	<input type="submit" class="event-submit" name="add event">
  	</form>

  	<form class="new-range">New location:
  	  <input type="text" id="range-name" name="text" placeholder="location">
  	  <input type="text" id="range-date1" name="text" placeholder="range date">
    	<input type="text" id="range-date2" name="text" placeholder="range date">
    	<input type="submit" class="range-submit" name="add range">
  	</form>

  </div>

  <style>
  .calendar {
  	border-bottom: 0.5px solid #888;
  }
  .week {
	  height:80px;
	  display: flex;
	  border-left: 0.5px solid #888;
	}
	.day {
	  border-top: 0.5px solid #888;
	  border-right: 0.5px solid #888;
	  width: 14%;
	  height: 100%;
	  margin: 0px;
	  padding: 0px;
	  display: inline-block;
	  vertical-align: top;
	  overflow-x:scroll;
	}
	.day.today {
		background-color:#e5e5e5;
	}
  .topbar{		
		font-size: 1.0em;
		font-weight: bold;
		padding-top: 1px;
  }
  .event:hover {
  	cursor: pointer;
  	background-color: #ff0;
  }
  .event.markdown {
  	border-bottom: 1px dashed #aaa;
  }
  .date_content ul {
  	margin: 0;
  	padding: 0;
	} 
	.date_content li {
  	font-size: 0.9em;
  	border-bottom: 0px;  	
  	list-style: none;
  	padding: 2px;
  	vertical-align: top;
	}  
  .date_content a {
  	text-decoration: none;
  	color: #777;
  }
  .date_content a:hover {
  	color: #00f;
  }
  .topbar.active0{background-color: #aff;}
  .topbar.active1{background-color: #faa;}
  .topbar.active2{background-color: #ffa;}
  .topbar.active3{background-color: #aaf;}  
  .topbar.active4{background-color: #faf;}
  .topbar.active5{background-color: #afa;}
  
  </style>

  {{#each weeks}}
    <div class="week">
      {{#each this}}
        <div class="day{{#if today}} today{{/if}}" data-date="{{date}}">         	
         	<div class="topbar {{#if location}}{{color_idx}}{{/if}}" data-date="{{date}}">
						<span class="date">{{month date}}.{{day date}}</span>&nbsp;{{#if location}}{{location}}{{/if}}
					</div>
					<div class="date_content">
						<ul>
							{{#each events_}}
								<li>
									{{#if external_link}}
										<span class="event{{#if markdown}} markdown{{/if}}">{{name}}</span> <a href="{{hyperlink external_link}}">[L]</a>
									{{else}}
										<span class="event{{#if markdown}} markdown{{/if}}">{{name}}</span>
									{{/if}}
								</li>
							{{/each}}
						</ul>
					</div>
        </div>
      {{/each}}
    </div>
  {{/each}}

</template>
